import React, { useState, useEffect } from 'react'
import Head from 'next/head'
import Image from 'next/image'
import Link from 'next/link'
import Layout from '../components/layout'
import { isAuthenticate } from '../utils/auth'

export default function Home() {
  const [defaultPage, setDefaultPage] = useState(false)

  useEffect(() => {
    setDefaultPage(isAuthenticate())
  }, [])

  return <>
    <Head>
      <title>Facebook</title>
      <meta name="description" content="Generated by create next app" />
    </Head>
    {!defaultPage ? <div>
      <Image alt="Facebook Logo" src="/images/facebook_logo.svg" width="300" height="100" />
      <div style={{ marginLeft: '30px' }}>
        <h2>
          Facebook helps you connect and share with the people in your life.
        </h2>
        <p>
          <Link href='/signin'>Sign in</Link> or <Link href="/signup">Sign up</Link>
        </p>
      </div>
    </div> : <Layout />}
  </>
}
